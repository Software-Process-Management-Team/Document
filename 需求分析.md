## 需求分析 （RELEASE 2  before May 2）

# 该需求分析文档已经废弃，可以参考但不完整，完整的做了功能划分的需求文档请参考新上传的前/后端开发需求文档。












---
### 系统总共需要三个模块（老师说三个，但管理员算不算第四个模块？ 算，对于后端来说就是总共四个模块）
+ #### 用户模块

+ #### 借书模块

+ #### 还书模块



### 登录模块

+ 用户注册（librarian & member）
  + 学生号，前端根据学生号显示条形码
  + 密码
+ 用户登录 
  + 学生号
  + 密码
+ 管理登录
  + 账号
  + 密码
+ 用户登出（logout）


### 借书模块

+ 查询书籍（通过书名/ISBN/{?作者})， 返回位置&剩余数量

+ 预订书籍(error)

  + 只能借阅5本书

+ 查询我已经借阅的书籍（参数user_id）给到前端（book，还有多少天到期）

+ 续借（book_id, user_id) 重置


### 图书管理模块

+ 添加书（参数为ISBN & 书的数量，老师说要调isbn的api去获取书的详细信息，然后返回这类书的id_list(以条形码的形式)）

  + 前端拿到id_list , 针对每个id调库生成条形码并显示

+ 删除书（根据bookid（or条形码））

+ 还书（book_id）

+ 借书出库（book_id、user_id）

  
### 还书模块

+ 用户还书（罚款）





## 实体类设计


#### 书

Book {

+ book_id  (primary key)
+ book_name
+ book_author？需要吗
+ ISBN_number
+ store_location
+ reserved_flag

}



#### 借阅

Borrow {

+ tx_id？需要吗？需要的话就用这个作为主键递增（主要是怕表中有多条相同的数据）

+ book_id
+ user_id
+ reserve_date

}



#### 用户

用户要不要和管理员分成两张表？ 已经分了，具体参考实体类设计文档or直接登录云端数据库看表结构



---

## 问题

+ （登陆部分 jwt？）

+ （先用session + cookie）
+ 
+ 

---


### 问老师

1. 管理员要不要注册 不用
2. 管理员操作用户什么东西？ 不用操作，系统来自动操作
3. 罚款需要显示二维码吗？ 需要，而且最好事先打印出来
4. 预订借书的流程 用户只能预订，预订时其他用户不能借出，借书还书都由管理员实现
5. 还书到底怎么实现 用户把书扔到还书箱，由管理员扫描图书，确认还书。
