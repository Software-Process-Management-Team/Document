# 借书模块接口文档

---

#### 查询书籍  **Get**

+ 【用户界面】

+ 请求URL：http://localhost:8080/searchbook

+ 请求参数：
  + String： info  可以为空，为空的时候返回前50条数据

+ 返回：
  + List 
  
    BookInfo
  
    + ISBNCode          【长度为17的String】
    
    + bookName        【长度不超过100的String】
    + bookAuthor      【长度不超过80的String】
    + location             【长度为4的String】
    + amount              【int】馆藏数量，包括了已借出/预订的和在馆的

---

#### 获取书籍 Get

+ 【用户界面】
+ 请求URL： http://localhost:8080/getbook
+ 请求参数： 
  + String： isbn_code    不可为空【书本上面格式为 xxx-xxx-xxx-xxx-x 的isbn号】

+ 返回：

  + List   里面是book

    Book

    + bookID              【长度为15的String】
    + bookName        【长度不超过100的String】
    + bookAuthor      【长度不超过80的String】
    + location             【长度为4的String】
    + ISBNCode          【长度为17的String】
    + ISBNNumber    【长度为13的String】
    + available            【布尔值 true false】
    + reserve_time     【时间戳  格式 yyyy-MM-dd HH:mm:SS】
    + reserve_user     【userID， 长度为11的String】

---

#### 预订书籍 POST

+ 【用户界面】

+ 请求URL：http://loacalhost:8080/reservebook
+ 请求参数：
  + String： user_id    用户id，不可为空
  + String： book_id   书本id，不可为空
+ 返回：
  + String： “success” or “failed"
  + String： errorMsg   如果预定失败，该字段表示失败信息（比如已经被预订、书被借走、用户借书已满/未缴罚款） 如果预订成功，不用理会这个字段

---

#### 借书出库 POST

+ 【管理员界面】

+ 请求URL： http://localhost:8080/lendout
+ 请求参数：
  + String： user_id    用户id，不可为空
  + String： book_id   书本id，不可为空

+ 返回：
  + String： ”success“ or ”failed"
  + String： errorMsg   如果借书失败，该字段表示失败信息（比如已经被预订、书被借走、用户借书已满/未缴罚款） 如果借书成功，不用理会这个字段


---

#### 查询我已借阅书籍 Get

+ 【用户界面】

+ 请求URL： http://localhost:8080/myborrow

+ 请求参数：
  + String： user_id     不可为空

+ 返回：
  + bookList （里面装的是Book)  如下：
  + + Book
      + bookID     【长度为15的String】
      + bookName        【长度不超过100的String】
      + bookAuthor      【长度不超过80的String】
      + location             【长度为4的String】
      + ISBNCode          【长度为17的String】
      + ISBNNumber    【长度为13的String】
      + available            【布尔值 true false】
      + reserve_time     【时间戳  格式 yyyy-MM-dd HH:mm:SS】
      + reserve_user     【userID， 长度为11的String】
  
  + result     "success"/"failed"
  + errorMsg      错误信息
  
  ---
  
  
